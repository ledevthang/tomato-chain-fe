(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1207:function(e,t,n){"use strict";n.r(t);n(23),n(20),n(27),n(8),n(28),n(19),n(29);var r=n(10),o=n(4),c=(n(58),n(36),n(57),n(87)),l=n(81),d=n.n(l),m=n(69),y=n.n(m),h=n(192);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={data:function(){return{valid:!0,companyAddress:"",companyAddressRules:[function(e){return!!e||"Company name is required"},function(e){return e&&y.a.isAddress(e)||"Company name not valid"}],email:"your@gmail.com",emailRules:[function(e){return!!e||"Email is required"},function(e){return/.+@.+\..+/.test(e)||"Email not valid"}],phone:"0999999999",phoneRules:[function(e){return!!e||"Phone number is required"},function(e){return/((09|03|07|08|05)+([0-9]{8})\b)/.test(e)||"Phone number not valid"}],company:"Your company",companyRules:[function(e){return!!e||"Company name is required"}],companyDescription:"Company description",companyType:"Farm Company",checkbox:!1,count:0,showSuccessDialog:!1,hash:null,msg:null}},computed:v(v({},Object(c.c)("walletStore",["currentAddress"])),Object(c.c)("companyStore",["allCompany"])),watch:{currentAddress:function(e){e&&(this.companyAddress=this.currentAddress)}},created:function(){this.companyAddress=this.currentAddress},methods:v(v({},Object(c.b)("companyStore",["changeTriggerUpdate"])),{},{redirectToMyCompany:function(){this.$router.push("/company")},register:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=15;break}return n={companyID:e.allCompany.length+1,companyAddress:e.companyAddress,companyName:e.company,companyPhoneNumber:e.phone,companyDescription:e.companyDescription,companyType:e.companyType,companyEmail:e.email,amount:.01,currentAddress:e.currentAddress},t.prev=2,t.next=5,h.e(n);case 5:data=t.sent,setTimeout(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!data.tx.txHash){t.next=9;break}return e.msg=data.tx.msg,e.hash=data.tx.txHash,e.showSuccessDialog=!0,n.txHash=data.tx.txHash,t.next=7,d.a.post("https://tomato-chain-default-rtdb.asia-southeast1.firebasedatabase.app/company.json",n);case 7:t.next=12;break;case 9:e.msg=data.tx.msg,e.hash=null,e.showSuccessDialog=!0;case 12:e.changeTriggerUpdate();case 13:case"end":return t.stop()}}),t)}))),2e3),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.msg="Something wrong, please try again XD",e.hash=null,e.showSuccessDialog=!0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}})},w=n(86),O=n(131),k=n.n(O),D=n(324),S=n(299),_=n(85),j=n(1155),C=n(1269),A=n(1150),R=n(1272),component=Object(w.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{value:e.companyAddress,disabled:"",rules:e.companyAddressRules,label:"Company address",required:"",outlined:""}}),e._v(" "),n("v-text-field",{attrs:{rules:e.companyRules,label:"Company name",required:"",outlined:""},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.companyRules,label:"Company Type",required:"",outlined:""},model:{value:e.companyType,callback:function(t){e.companyType=t},expression:"companyType"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.companyRules,label:"Company Description",required:"",outlined:""},model:{value:e.companyDescription,callback:function(t){e.companyDescription=t},expression:"companyDescription"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:"",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.phoneRules,label:"Phone number",required:"",outlined:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),n("div",{staticStyle:{color:"black","font-weight":"bold",display:"flex","align-items":"center","justify-content":"space-between"}},[n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.register}},[e._v("\n      Register\n    ")]),e._v(" "),n("div",[n("b",[e._v("\n        Register now for only 0.01 ETH\n      ")])])],1),e._v(" "),n("v-dialog",{attrs:{width:"300px"},model:{value:e.showSuccessDialog,callback:function(t){e.showSuccessDialog=t},expression:"showSuccessDialog"}},[n("v-card",{staticStyle:{padding:"10px","text-align":"center"},attrs:{light:""}},[n("v-card-actions",{staticStyle:{"flex-direction":"column"}},[n("div",{staticClass:"text-zone",staticStyle:{width:"100%"}},[n("b",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.msg))]),e._v(" "),e.hash?n("div",[n("a",{attrs:{href:e.$getScanLink(e.hash,"tx")}},[e._v("\n              "+e._s(e.hash)+"\n            ")])]):e._e()]),e._v(" "),n("v-spacer"),e._v(" "),n("div",{staticClass:"action-zone",staticStyle:{margin:"20px 0"}},[n("v-btn",{attrs:{color:"#28a745",medium:"",depressed:"",dark:""},on:{click:function(t){e.hash?e.redirectToMyCompany():e.showSuccessDialog=!1}}},[e._v("\n            Good!\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;k()(component,{VBtn:D.a,VCard:S.a,VCardActions:_.a,VDialog:j.a,VForm:C.a,VSpacer:A.a,VTextField:R.a})}}]);